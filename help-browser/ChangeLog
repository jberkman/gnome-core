1998-11-04  Raja R Harinath  <harinath@cs.umn.edu>

	* transport.c: Include <sys/types.h> and reorder other includes.
	(transport): Use `g_snprintf' instead of `snprintf'.
	(transportHTTP): Likewise.

Wed Oct 28 Felix Bellaby <felix@pooh.u-net.com>

	* help-caller.c (main): use proper repo_id.
	* toc2-ghelp.c (newGhelpTable): do not drop first item.
	* toc2-info.c (newInfoTable): do not drop first item.
	* toc2-man.c (newManTable): do not drop first item.
	
1998-10-20  Andrew Veliath  <andrewtv@usa.net>

	* Makefile.am (ORBIT_GENERATED_SOURCES): Update IDL compiler rule
	to depend on ORBIT_IDL.

Sun Oct 18 19:19:04 1998  Owen Taylor  <otaylor@gtk.org>

	* window.c: Use the new DND API.

1998-10-15  Michael Lausch  <mla@gams.at>

	* gnome-help-browser.c (main): Revert to the old behaviour to
	display the toc: URL if called without cmd line argument.
	(main): Don't crash if ther's no orbit-naming-server available.
	

1998-10-11  Michael Lausch  <mla@gams.at>

	* idl/help-browser.idl: Changed interface. fetch_url displays the
	URL in the window of the object passed as the first
	parameter. show_url creates a new server and uses its window, a
	new one to display the URL. It returns the new browser server.

	* help-caller.c (main): You can now type in a URL which is
	displayed in the help browser. If the URL starts with a '#', the
	same window is used, otherwise a new window is opened. This is
	just a demo program, showing how to use the CORBA interface to the 
	help-browser.

	* help-browser-impl.c: new variable win_servant_hash which holds
 	the relation between window and CORBA server. This is a hack. See
 	the TODO file.
	(idhash): new function. used for hashing a window pointer.
	(idcompare): new function. used for comparing two window pointers.
	both functions are used by the win_servant_hash.
	(impl_help_browser_simple_browser__create): Accepts an additional
	parameter which is the window for this server. This parameter may
	be 0 if there's no window yet. This is true for the first server
	if no command line argument was passed.
	If ther's a window, add the window and the servant to the hash table.
	(impl_help_browser_simple_browser_fetch_url): If the servant
	doesn't have a window, create one and it to the hash table.
	(impl_help_browser_simple_browser_show_url): create a new window,
	and add it to the hash table.
	(destroy_server): new function. Find the server for this window
	and destroy it.

	* gnome-help-browser.c: remove the UGLY_LE_HACK define. It's not
	nedded any more.
	Export the makeHelpWindow function. It's needed in the CORBA
	files. 
	(main): remove #if 0 from the session management code.
	Only create a window if a command line parameter was there.
	Redirect stderr and stdout to a file. This is hardcoded right now, 
	but should be changed ASAP.
	Use the functions in libgnorva to register and de-register from
	the naming server.
	(closeWindowCallback): Close the window and destroy the CORBA
	server associated with the window.
	

	* Makefile.am: Reorgnaize the ORBit generated files. All files
	which can be generated from the IDL source are put in the
	BUILT_SOURCES macro. Remove source naming server sources, as they
	are not needed any more. 

1998-10-09  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (BUILT_SOURCES): Add all ORBit generated files.

1998-10-09  Michael Lausch  <mla@gams.at>

	* Made ghnome-help-browser CORBA aware and added a small test
	application gnome-help-caller, which resets the help browser to
	the "toc:" entry.

Sun Sep 20 15:20:10 1998  Ettore Perazzoli  <ettore@comm2000.it>

	* toc2-ghelp.c (compareItems): Made `qsort()'-compatible (type of
 	`a' and `b' changed to `const void *').
	(newGhelpTable): Quick fix to make it faster: put elements in a
 	temporary array, sort it via `qsort()' and build a list out of it
 	afterwards.

	* toc2-info.c (compareItems): Made `qsort()'-compatible (type of
 	`a' and `b' changed to `const void *').
	(newInfoTable): Quick fix to make it faster: put elements in a
 	temporary array, sort it via `qsort()' and build a list out of it
 	afterwards.

	* toc2-man.c (compareItems): Made `qsort()'-compatible (type of
 	`a' and `b' changed to `const void *').
	(newManTable): Quick fix to make it faster: put elements in a
 	temporary array, sort it via `qsort()' and build a list out of it
 	afterwards.

Thu Sep 17 12:42:06 1998  John Ellis  <johne@bellatlantic.net>

	* window.c(windowmenu): Now the window menu displays it's contents.

Thu Sep 17 02:08:10 1998  John Ellis  <johne@bellatlantic.net>

	* bg.xpm, gnome-logo2.xpm: Convert to png.
	* default-page.html: Use said png's.
	* Makefile.am: Change references of xpm to png.

1998-27-07  Jaka Mocnik  <jaka.mocnik@kiss.uni-lj.si>
 	
	* window.c: conditional compilation now checks for #defined symbol
	GTK_HAVE_FEATURES_1_1_0 instead of GTK_HAVE_ACCEL_GROUP
	
Sun Jul 19 18:53:48 1998  Tom Tromey  <tromey@cygnus.com>

	* toc2-info.c: Include <stdlib.h>.

Wed Jul 15 01:39:26 1998  Tom Tromey  <tromey@cygnus.com>

	* bookmarks.c: Include <stdlib.h>.

Tue Jul  7 00:17:49 1998  Tom Tromey  <tromey@cygnus.com>

	* parseUrl.c: Don't include <malloc.h>.
	* HTParse.c: Don't include <malloc.h>.

1998-07-01  Nuno Ferreira  <nmrf@rnl.ist.utl.pt>

	* gnome-help.desktop: Added Portuguese translation.

Fri Jun 12 12:28:17 1998  Robert Wilhelm  <robert@physiol.med.tu-muenchen.de>

        * transport.c (transportHTTP): 
        add CRs as required by HTTP spec.
        add "Host:" to work better with virtual httpd.
        check for buffer overflow.

Wed Jun 10 17:22:59 EDT 1998 Gregory McLean <gregm@comstar.net>

	* window.c : updated window.c to work with both gtk versions.

1998-06-10  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* gnome-help-browser.c (main): Call 'newGnomeClient' after
 	'gnome_init' now.
	(newGnomeClient): Use 'gnome_master_client' instead of
 	'gnome_client_new_default'.

1998-05-27  Carsten Schaar  <nhadcasc@fs-maphy.uni-hannover.de>

	* toc2-ghelp.c: Included <gnome.h>.
 	(newGhelpTable): Changed to use gnome_i18n_get_language_list. This
 	way, only manual pages are shown, that are in the users language
 	search path. This includes alwas the "C" language. This way,
 	users, that have some of there LANG-variables set, can read gnome
 	help pages.
	

1998-05-25  Marc Ewing  <marc@germ.labs.redhat.com>

	* check-running.c: fix up

	* Made some changes to the config dir handling code.
	Now the dir is fixed at .gnome-help-browser.

1998-05-22  Marc Ewing  <marc@germ.labs.redhat.com>

	* can accept drops.  does no MIME type checking.

	* parseUrl.c (decomposeUrlRelative): handle NULL ref

	* window.c: added accelerators for ' ', 'b', 'g'
	A total hack, but works.

	* window.c (makeEntryArea): disconnect the combobox
	activate signal so it doesn't pop down on Enter.

1998-05-15  Raja R Harinath  <harinath@cs.umn.edu>

	* check-running.c (send_command_to_running): Use SA_NODEFER
	instead of SA_NOMASK.

Fri May 15 11:59:00 1998  Tom Tromey  <tromey@cygnus.com>

	* mime.c: Just use <sys/wait.h>.

Wed May 13 22:33:56 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-help-browser.c (save_state): If shutdown requested, then
	exit.

1998-05-05  Marc Ewing  <marc@redhat.com>

	* clean up cache - do not have multiple cache entries
	  for one key

1998-05-05  Michael Fulbright  <msf@redhat.com>

	* window.c: help_onhelp() - use "ghelp:help-browser" magic URL

1998-05-04  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-help-browser.c (configApply): Only load the configuration
	once. 

1998-05-01  Marc Ewing  <marc@redhat.com>

	* Changed g_error()'s to g_warnings()'s

1998-05-01  Michael Fulbright  <msf@redhat.com>

	* Makefile.am: removed references to sample-help*
	* sample-help*: removed these useless files
	* gnome-help-browser-help.html: added command line options
	* gnome-help-browser-topic.dat: added command line options

1998-04-29  Michael Fulbright  <msf@redhat.com>

	* toc2.c: fixed man/info/ghelp toc HTML generation to use 3 col table
	* visit.c: fixed 'toc:' magic URL to jump to anchor if present

1998-04-27  Michael Fulbright  <msf@redhat.com>

	* gnome-helpwin.c: remove unused functions
	  visit.c: cleanly handle case where default_page.html isnt found

1998-04-24  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-help-browser.c (generateConfigWidgets): Fix the right
	alignment of the labels.
	(generateConfigWidgets): Simplified the code by using
	GnomePropertyBox. 

1998-04-22  Marc Ewing  <marc@germ.labs.redhat.com>

	* Make hiding/showing of bookmarks/history work properly

1998-04-20  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* window.c: Make the browser use gnome-stock pixmaps.

1998-04-15  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* history.c: i18n support.
	* gnome-helpwin.c: i18n support.
	* gnome-help-browser.c (configCallback): i18n support.
	* bookmarks.c (createBookmarksWindow): Add support for i18n

1998-04-06  Marc Ewing  <marc@germ.labs.redhat.com>

	* Added -d debug option, cleaned a printf

1998-04-06  Michael Fulbright  <msf@redhat.com>

	* intl'n of menu and toolbar strings
	* added button to toolbar to callup 'toc:' magic URL

1998-04-02  Michael Fulbright  <msf@redhat.com>

	* Tweaked 'Reload' a little, might work a little better now

	* Added some stock icons to menus

	* Fixed it so we dont segv when user give URL starting with a '/'

1998-03-27  Raja R Harinath  <harinath@cs.umn.edu>

	* window.c (helpWindowShowURL): Don't pass NULL pointers to printf.

1998-03-26  Michael Fulbright  <msf@redhat.com>

	* Added 'whatis:' magic URL. You just type something like
	  'whatis:ls', and it does a case-insensitive search of all
	  document titles of matching "^ls.*"

	* Added callback for forms from html widget, doesn't seem to
	  quite be fully implemented yet.
	
1998-03-25  Michael Fulbright  <msf@redhat.com>

	* Added support in bookmarks for document titles

	* Updated help document to describe magic URLs

	* Fixed bug which caused entry box to show currentRef
	  instead of humanRef if a bad URL was given.

Sat Mar 21 15:27:37 1998  Tom Tromey  <tromey@cygnus.com>

	* window.c: Use gnome_message_box_*, not gnome_messagebox_*.

1998-03-18  Michael Fulbright  <msf@redhat.com>

	* 'Fixed' reloading of default page - html widget was scrolling
	   image off top and showing first line of text instead.

	* Implemented 'toc:', 'toc:man', 'toc:info', and 'toc:ghelp'
	  These load browser with table of contents of respective doc types.

	* Found bug in info code which caused segfault when loading last
	  section in an info file.

	* Removed visitURL_nohistory - use visitURL() with several booleans
	  to control if link is read from cache, stored in back/forward queue,
	  and if it goes in the global history list

1998-03-18  Marc Ewing  <marc@redhat.com>

	* Removed the TOC window

1998-03-16  Michael Fulbright  <msf@redhat.com>

	* Added default page, made appropriate Makefile.am changes

	* Started work on a 'Reload' button

	* Session management works, but disabled by default. Just
	  uncommnet the line invoking newGnomeClient() in gnome-help-browser.c

Sun Mar 15 15:38:24 1998  Owen Taylor  <owt1@cornell.edu>

	* gnome-info2html/Makefile.am: added GNOME_INCLUDEDIR to
	  INCLUDES so glib.h will be found.

1998-03-13  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (gnome_help_browser_LDADD): Use $(RES_LIBS) found in
	configure.in. 

1998-03-12  Marc Ewing  <marc@germ.labs.redhat.com>

	* Clean up toolbar a bit.

	* In entry box, map "/..." to "file:/..."

1998-03-11  Marc Ewing  <marc@germ.labs.redhat.com>

	* Made history, cache, bookmarks reconfigurable.

	* Config panel.

	* More humanRef bits (history, bookmarks, etc).

1998-03-10  Marc Ewing  <marc@germ.labs.redhat.com>

	* Cache tweak.

Tue Mar 10 22:39:15 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-help-browser.c (program_invocation_name): Declare.
	(save_state): Use program_invocation_name as argv[0] for restart
	command.  Don't strip path information.
	(newGnomeClient): Don't try to print NULL value.
	(options): New structure.
	(parser): Refer to options.
	(parseAnArg): Recognize -x, -y, -w, -h.
	(session_die): New function.
	(newGnomeClient): Wire "session_die" to "die" signal.

	* gnome-help-browser.c (newGnomeClient): Enable session support.

Tue Mar 10 16:21:33 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	(helpWindowNew): Focus the entry at startup

1998-03-10  Marc Ewing  <marc@germ.labs.redhat.com>

	* Use "humanRef" when rewriting the entry box.

1998-03-09  Marc Ewing  <marc@redhat.com>

	* Add ghelp: magic URL.
	
	* Change TOC to send "ghelp:<>".

1998-03-08  Marc Ewing  <marc@tasmanian.redhat.com>

	* Fix bug in relative URL parsing.

	* Image callbacks now use docObj and transport().
	
Sun Mar  8 18:44:55 1998  Tom Tromey  <tromey@cygnus.com>

	* sample.c (main): Use new gnome_init.

	* gnome-help-browser.c (HELP_VERSION): Renamed from VERSION to
	avoid clash with config.h.

	* Makefile.am (INCLUDES): Added GNOME_INCLUDEDIR.  Define
	GNOMELOCALEDIR.

Sat Mar  7 12:08:37 1998  Tom Tromey  <tromey@cygnus.com>

	* gnome-help-browser.c: Include <config.h>.
	(helpURL): New global.
	(parser): New structure.
	(parseAnArg): New function.
	(main): Changed to use new argument parsing.

1998-03-08  Marc Ewing  <marc@redhat.com>

	* Misc cleanups of gnome-helpwin, gnome-info2html,
	  gnome-man2html, my bogus function casts.

	* Rework some of docobj to handle binary data.
	  Now the raw/conv data is *not* NULL terminated!

	* Added simple (stupid) http transport.

1998-03-06  Marc Ewing  <marc@redhat.com>

	* fix horrible toc/info bug

	* added bookmarks

1998-03-05  Marc Ewing  <marc@germ.labs.redhat.com>

	* history saving code

	* preliminary gnome_config stuff

1998-03-03  Marc Ewing  <marc@germ.labs.redhat.com>

	* magic man: url

	* .so magic (only for file:)

	* new toc code.  uses html widget
	
	* moved info magic stuff to toc

1998-03-02  Marc Ewing  <marc@germ.labs.redhat.com>

	* fixed delete event handling

1998-03-01  Marc Ewing  <marc@tasmanian.redhat.com>

	* multiple windows now close correctly and track current window

	* misc fixes and cleanups

1998-02-26  Raja R Harinath  <harinath@cs.umn.edu>

	* toc-man.c (expandManPagesIndex): Don't `closedir(NULL)'.
	(expandManPagesRoot): Likewise.
	* magic.c (resolveMagicURL): Likewise.
	* toc-ghelp.c (expandGHelpRoot): Likewise.
	* toc-info.c (expandInfoRoot): Likewise.
	
1998-02-26  Marc Ewing  <marc@redhat.com>

	* multiple windows!
	* closing windows is *not* handled properly.  Have to
	  figure out what the deal is with GnomeApp.

	* need some way to update the "current" window based
	  on focus or last activity or something.

	* fix history a bit

1998-02-26  Michael Fulbright  <msf@redhat.com>

	* fixed info handling to work with the 'dir' file

	* added some very simple error handling

1998-02-26  Marc Ewing  <marc@redhat.com>

	* add line position to queue info for forw/back

	* changed history/toc window management a bit

1998-02-25  Marc Ewing  <marc@redhat.com>

	* cleaned up some messages

	* ripped out some code that duplicates functionality

1998-02-25  Raja R Harinath  <harinath@cs.umn.edu>

	* Makefile.am (LDADD): Remove $(ZLIB).
	(ZLIB): Remove.

1998-02-25  Michael Fulbright  <msf@redhat.com>

	* added better support for 'info:'

1998-02-25  Marc Ewing  <marc@redhat.com>

	* added caching code

	* added entry box

	* use g_message() and g_error() instead of printf()

	* fixed a few places that used docObjGetRef()
	  instead of docObjGetAbsoluteRef() as they should

1998-02-24  Marc Ewing  <marc@germ.labs.redhat.com>

	* Put virtually all the globals in a per-window structure.

	* Rearranged *heavily* the docObj and url stuff.  Slightly
	more sane arrangement of data structure and .h files now.

	* Put everything back together again.  Seems to work :-).

1998-02-23  Michael Fulbright  <msf@redhat.com>

	* Added GNU info support, cleaned up code somewhat (unused vars, etc)

Fri Feb 20 18:36:29 1998  Miguel de Icaza  <miguel@nuclecu.unam.mx>

	* gnome-man2html/gnome-man2html.c: Sync default manpath with those
	places searched by toc.c

1998-02-19  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* sample.c (main): Added ap_id "gnome_help_sample".

	* gnome-help-browser.c: Added app_id "gnome_help_browser".

Sat Feb 14 01:54:28 1998  Tom Tromey  <tromey@cygnus.com>

	* Makefile.am (LDADD): Don't include LEXLIB, XF86MISC_LIBS.  Do
	include INTLLIBS.
	(install-data-local): Removed.
	(help_DATA): New macro.
	(INCLUDES): Removed `../..' and `$(srcdir)/../..'.

