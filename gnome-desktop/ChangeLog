2001-10-11  Alex Larsson  <alexl@redhat.com>

	* gnome-desktop-item.c (ditem_execute, gnome_desktop_item_launch):
	Convert app launching to new api. Not tested yet, but at least
	compiles.

2001-10-10  Alex Larsson  <alexl@redhat.com>

	* gnome-desktop-item.c (escape_string_and_dup,
	escape_string_and_dup):
	Don't write past end of string.

2001-10-09  Havoc Pennington  <hp@redhat.com>

	* gnome-desktop-item.c (gnome_desktop_item_new): create the hash
	table here, since we use it and assume it's always non-nul

Wed Sep 26 23:04:04 2001  George Lebl <jirka@5z.com>

	* gnome-ditem-edit.[ch]:  Add a _set_editable call which makes
	  the entry editable or not.  Useful for read only items.  Currently
	  a stupid implementation.

2001-09-25  Darin Adler  <darin@bentspoon.com>

	* gnome-desktop-item.c: (gnome_desktop_item_launch): Update
	calls for change in gnome_url_show API.

Fri Sep 21 12:14:06 2001  George Lebl <jirka@5z.com>

	* gnome-desktop-item.h: include gobject/gtype.h

	* gnome-ditem-edit.[ch]: include evil api to grab focus, to be
	  replaced by a correct way to do this in the future.

2001-09-21  Glynn Foster <glynn.foster@sun.com>

	* test-ditem.c: (test_ditem): Fix up this to pass the right 
	  number of args to gnome_desktop_item_get_type () and 
          gnome_desktop_item_set_localestring ()

Thu Sep 20 16:38:11 2001  George Lebl <jirka@5z.com>

	* gnome-desktop-item.[ch]: make sure name/encoding/version are set,
	  location return is now const, and some better checks.  Also fix
	  saving 'under' and some 'modified' logic

	* gnome-ditem-edit.h: fix comment

Thu Sep 20 15:15:54 2001  George Lebl <jirka@5z.com>

	* gnome-desktop-item.[ch]: string vector const weirdness removed

Wed Sep 19 01:42:13 2001  George Lebl <jirka@5z.com>

	* gnome-desktop-item.c, gnome-ditem-edit.c: eeek, exported an
	  internal function.

Tue Sep 18 23:11:33 2001  George Lebl <jirka@5z.com>

	* gnome-desktop-item.[ch]: Few more accessors, whack the push/pop
	  of sections.  Keys can now include sections, add actual error
	  returns

	* gnome-ditem-edit.[ch]: whack crack entries, make compile, and port
	  to new desktop item.

	* Makefile.am: add the ditem-edit

Sat Sep 08 01:55:29 2001  George Lebl <jirka@5z.com>

	* All bonobo stuff.  Removed for now.  This is in bonobo somewhere
	  now anyway.

	* Makefile.am: Fixup for the current no-bonobo build

	* gnome-desktop-item.[ch], test-ditem.c:  Made loading/saving work
	  and add tests

	* gnome-ditem-edit.[ch]: Add this, currently the same version that
	  was the last working one in libgnomeui HEAD.  Doesn't compile nor
	  work with the ditem yet.

Fri Sep 07 21:43:34 2001  George Lebl <jirka@5z.com>

	* gnome-desktop-item.[ch]: Put the parser into the ditem, completely
	  reshuffle the API, make it be much more anal about how it reads
	  files, simplify internal storage, and follow the spec more closely,
	  not api nor implementation complete.  Still needs a lot of work.
	  A .desktop moniker should rather be based upon this API rather
	  then being beneath it.  However that's very low on my priority list
	  right now.  But it should be simpler then before I'd think, and
	  you'd get actual spec compliant reading/writing.

Tue Sep 04 23:06:06 2001  George Lebl <jirka@5z.com>

	* Makefile.am, gnome-desktop-item.[ch]: Mostly stubify things with
	  #if 0's just to make it compile.  I will be changing the whole
	  structure of this shortly and simplifying the interface a lot
	  it seems to have grown quite a bit.

2001-08-21  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem.c (get_encoding): If we can't determine the encoding,
	suck the whole file in and pipe it through g_utf8_validate().
	(encode_string): Never return NULL, instead use CORBA_string_dup ("").
	(bonobo_config_ditem_write_key): Deal with GNOME::LocalizedStringList.
	(bonobo_config_ditem_load): Correctly deal with newlines and wide unicode
	chars on legacy-mixed encoded files.

2001-08-20  Martin Baulig  <baulig@suse.de>

	* Makefile.am, bonobo-config-ditem.c: Disable dmalloc again. Hmm, for the
	moment it seems to work - let's see how long this lasts.

2001-08-20  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Compile and install bonobo-moniker-ditem.

	* bonobo-moniker-ditem.c: Make this a stand-alone server, not a shared
	library.

	* Bonobo_Moniker_ditem.server.in.in: Renamed from Bonobo_Moniker_ditem.oaf.in.

	* bonobo-config-ditem.[ch]: Require dmalloc.

2001-08-20  Martin Baulig  <baulig@suse.de>

	* gnome-desktop-item.c (GnomeDesktopItem): Added `name', `comment'
	and `attributes' hash tables; copy all the CORBA sequences into these
	hash tables to make the lookup faster.

	* gnome-desktop-item.h: Make all `GnomeDesktopItem *'s non-const.

2001-08-20  Martin Baulig  <baulig@suse.de>

	* gnome-desktop-i18n.[ch]: New files. This is a mixture of the old
	gnome-libs/libgnome/gnome-i18n.c and gettext-0.10.38/intl/localealias.c.

	* locale.alias: New file. From gettext-0.10.38.

	* Makefile.am: Install locale.alias in $(datadir)/gnome.

2001-08-20  Martin Baulig  <baulig@suse.de>

	* bonobo-config-ditem.[ch]: Merge bonobo-config-ditem-internals.[ch]
	back into this file.

	* bonobo-config-ditem-internals.[ch]: Removed.

2001-08-20  Martin Baulig  <baulig@suse.de>

	* Makefile.am: For the moment, link test-ditem against dmalloc.
	I don't know what this is, but it crashes in malloc() without
	dmalloc, but I have dmalloc turned off .... :-(

	* gnome-desktop.xmldb: Removed, don't need this anymore.

2001-08-20  Martin Baulig  <baulig@suse.de>

	Rewrote the ditem code a bit, cleaned up its API and give the
	gnome-desktop-item.c code direct access to its internals.

	* bonobo-config-ditem-internals.[ch]: New files.

	* bonobo-config-ditem.[ch]: Moved a few functions to the new
	bonobo-config-ditem-internals.[ch].

2001-08-18  Martin Baulig  <baulig@suse.de>

	* gnome-desktop-item.c (gnome_desktop_item_get_tryexec):
	New function.

2001-08-17  Martin Baulig  <baulig@suse.de>

	* Makefile.am: Include bonobo-config-ditem.[ch] and
	bonobo-config-ditem-utils.[ch] in the library.

	* gnome-desktop-item.c: Call the code from bonobo-config-ditem.c
	directly rather than via the moniker.

2001-08-17  Martin Baulig  <baulig@suse.de>

	* gnome-ditem.[ch]: Renamed to gnome-desktop-item.[ch].

2001-08-12  Martin Baulig  <baulig@suse.de>

	* gnome-ditem.h (gnome_desktop_item_get_location): Make
	the return value non-const.

2001-08-06  Martin Baulig  <baulig@suse.de>

	* gnome-ditem.[ch]: Fix #includes for the new location.

	* Makefile.am: New file.

